@if(toastService.showToast | async){
<div class="alert w-50 mx-auto alert-dismissible" [class.alert-success]="!(toastService.isError | async)"
  [class.alert-danger]="(toastService.isError | async)">

  {{ toastService.message | async }}
  <button type="button" class="btn-close" (click)="toastService.showToast.next(false)"></button>
</div>
}

<div class="container card shadow p-5 mt-4">
  <form [formGroup]="taskForm" (ngSubmit)="onSubmitSchool()" class="needs-validation" novalidate>
    <div class="form-group mb-3 row">
      <label for="name" class="col-sm-2">Task Name</label>
      <div class="col-sm-10">
        <input type="text" formControlName="name" class="form-control" id="name" placeholder="Enter Task Name">
        @if(name?.touched && name?.errors?.['required'])
        {
        <div class="text-danger">
          Task Name is required
        </div>
        }

      </div>
    </div>

    <div class="form-group mb-3 row">
      <label for="details" class="col-sm-2">Details</label>
      <div class="col-sm-10">
        <input type="text" formControlName="details" class="form-control" id="details" placeholder="Enter Details">
        @if(details?.touched &&details?.errors?.['required'])
        {
        <div class="text-danger">
          Details is required
        </div>
        }
      </div>

    </div>

    <div class="form-group mb-3 row">
      <label for="endDate" class="col-sm-2">End Date</label>
      <div class="col-sm-10">
        <input type="date" formControlName="endDate" class="form-control" id="endDate" placeholder="Enter End Date">
        @if(endDate?.touched &&endDate?.errors?.['required'])
        {
        <div class="text-danger">
          End Date is required
        </div>
        }
      </div>
    </div>

    <div class="form-group mb-3 row">
      <label for="numberOfFilesToAssignment" class="col-sm-2">Select Project</label>
      <div class="col-sm-10">

        <select name="project" id="project" formControlName="projectId" class="form-select">

          @for (projectt of projects; track $index) {
          <option [value]="projectt.id">{{projectt.name}}</option>
          }
        </select>
      </div>


    </div>
    <button type="submit" class="btn btn-primary mb-5" [disabled]="!taskForm.valid">Submit</button>
  </form>

</div>
<!-- {{projectForm.value|json}} -->
