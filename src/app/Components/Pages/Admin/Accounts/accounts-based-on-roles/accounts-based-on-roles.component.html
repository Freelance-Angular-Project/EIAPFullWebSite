<div class="container">
  <form>
    <div class="form-group mb-3 row">
      <label for="Role" class="col-sm-2">Role</label>
      <div class="col-sm-10">
        <select [(ngModel)]="selectedRole" class="form-control" id="Role" name="role"
          (ngModelChange)="onRoleChange($event)">
          <option disabled value="">Choose Role</option>
          @for(role of Roles; track $index)
          {
          <option [value]="role">{{role}}</option>
          }

        </select>
      </div>
    </div>
  </form>
  <hr>
  @if(users){
    <div class="tbl-header">
      <table cellpadding="0" cellspacing="0" class="border-0">
        <thead>
          <tr>
            <!-- <th scope="col">No</th> -->
            <th scope="col">Full Name</th>
            <th scope="col">Email</th>
            <th scope="col">Gender</th>
            <th scope="col">Phone Number</th>
            <th scope="col">Password</th>
            <th scope="col">Actions</th>

          </tr>
        </thead>
      </table>
    </div>
      <div class="tbl-content">
        <table cellpadding="0" cellspacing="0" class="border-0">
          <tbody>
            @for ( user of users ; track $index) {
            <tr (click)="selectUser(user.id)">
              <!-- <td>{{$index+1}}</td> -->
              <td>{{user.fullName}}</td>
              <td>{{user.email}}</td>
              <td>{{user.gender}}</td>
              <td>{{user.phoneNumber}}</td>
              <td>{{user.userPassword}}</td>
              <td>
            <button class="btn btn-success me-2" [routerLink]="['/UpdateUser',selectedRole,user.id]"><i
                class="fa-solid fa-pen-to-square"></i></button>
            <button class="btn btn-danger" (click)="openConfirmModal()"><i class="fa-solid fa-trash-can"></i></button>
          </td>
            </tr>
            }
          </tbody>
        </table>
      </div>

  }
</div>
<!-- Bootstrap Modal for Confirmation -->
<div class="modal fade" id="confirmDeleteModal" tabindex="-1" aria-labelledby="modalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="modalLabel">Confirm Deletion</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        Are you sure you want to delete this school?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-danger" (click)="deleteSchool()">Delete</button>
      </div>
    </div>
  </div>
</div>
